# 7zGui

一个基于 Fyne 的桌面小工具, 用来调用 `7zz` 解压压缩包, 并可在解压前浏览压缩包内容.

## 适用平台

- 主要适配: macOS
- 理论可运行: Windows, Linux (Fyne 本身跨平台), 但需要自行准备对应平台的 `7zz` 可执行文件与打包流程

## 环境要求

- 运行打包后的应用: 不需要 Go 环境
- 从源码运行或自行编译: 需要 Go 环境(参考 go.mod)

## 功能

- 拖拽导入: 将单个压缩文件拖入窗口即可开始处理
- 文件列表: 展示压缩包内容列表, 包含 `名称`, `大小`, `解压后`, `修改时间`, `类型`
- 一键解压: 点击 `解压到当前目录` 解压到与压缩包同级目录下的同名文件夹
- 密码支持: 检测到加密压缩包时弹出密码输入框, 输入后继续列出或解压

## 使用方法

1. 启动应用后, 窗口会显示拖拽提示区域
2. 将单个压缩文件拖入窗口(如果窗口内已有文件, 会自动替换为最新文件)
3. 等待文件列表加载完成
4. 点击底部按钮 `解压到当前目录` 开始解压
5. 如果需要密码, 在弹窗中输入密码并确认
6. 解压完成后会弹出 `完成` 对话框, 显示解压目录

## 目录与输出规则

- 解压目录: 默认解压到 `压缩包所在目录/压缩包文件名(去除后缀)` 目录
- 示例:
  - `/path/to/demo.7z` -> `/path/to/demo/`
  - `/path/to/demo.tar.gz` -> `/path/to/demo/`

## 依赖与资源

本项目运行时需要以下文件. 程序会优先在 macOS App Bundle 的 Resources 目录中查找, 其次查找可执行文件同级目录, 再查找当前工作目录.

- `7zz`: 7-Zip 命令行程序, 用于列出与解压
- `NotoSansSC-Regular.ttf`: 中文字体, 用于保证界面中文显示一致
- `Icon.png`: 应用图标

## macOS 打包

仓库内提供 `package.sh` 用于生成 `7zGui.app`, 并自动拷贝所需资源到:

- `7zGui.app/Contents/Resources/`

生成后直接双击 `7zGui.app` 运行即可.
